  <!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <title>Ch04 - 介紹 Objective-C 的運算式以及一些運算子 </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Win Wu's Note">
  <meta name="keywords" content="Objective-C, 學習, Win Wu, 程式設計, 程式筆記, win.心得小筆記">
  <link href="http://winwu.github.io/objective-C-note/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://winwu.github.io/objective-C-note/css/hc.css" rel="stylesheet">
  <link href="http://winwu.github.io/objective-C-note/css/override.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    </head>
    <body>
<div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Win Wu </div>
      <div id = "wrapper">      


<div class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">Obj-C 學習</p>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          <li><a href="http://winwu.github.io/objective-C-note/list.html">List</a></li>
          <!--li><a href="http://winwu.github.io/objective-C-note/links.html">Links</a></li-->
          <!--li><a href="http://winwu.github.io/objective-C-note/projects.html">Projects</a></li-->
          <li><a href="http://winwu.github.io/objective-C-note/about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>



       <!-- Sidebar -->
       <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-brand"><a href="http://winwu.github.io/objective-C-note"><h1 class="brand">Obj-C 學習</h1></a><h3>Win Wu's Note</h3></li>
          <li>不准偷懶啊！</li>
          <li>有點害怕會誤人子弟...</li>
          

          <hr />
          <li><a href="http://winwu.github.io/objective-C-note/list.html">List</a></li>
          
          <li><a href="http://winwu.github.io/objective-C-note/about.html">About</a></li>
          <hr />
          <div id="social-wrapper">
           <li> <a href="http://twitter.com/yiyingwu1990"><i class="fa fa-twitter-square"></i> @twitter</a></li>
           <li> <a href="http://www.linkedin.com/in/winwu"><i class="fa fa-linkedin-square"></i> linkedin</a> </li>
           <li> <a href="http://www.facebook.com/YiYngWu"><i class="fa fa-facebook-square"></i> facebook</a></li>
           <li> <a href="http://www.github.com/winwu"><i class="fa fa-github-square"></i> github</a> </li>
         </div>
       </ul>
     </div>

     <div class="container">
    <div id="article">
   <div class="article-title">Ch04 - 介紹 Objective-C 的運算式以及一些運算子 </div>
   <p class="meta"><small>&nbsp;<i class="fa fa-calendar-o"></i> 05 Jan 2014</small></p> <hr/>
   <div class="post">
     <h1 id="toc_0">Objective-C 程式設計學習筆記 Ch04</h1>

<ul>
<li>Ch04-介紹 Objective-C 的運算式以及一些運算子。</li>
<li>本章會介紹的運算式就是基本的四則運算，也就是加『+』,減『-』,乘『*』,除『/』的四種組合，另外也會提到模數運算子(Modules Operator)『%』(講白話一點 %  就是取得餘數)。</li>
<li>關於運算子在這個章節僅會介紹部分，有些運算子會在後面的章節，依照主題的相關性會順便介紹。</li>
</ul>

<h2 id="toc_1">目錄:</h2>

<ul>
<li>(1) 指定運算子</li>
<li>(2) 加減乘除的順序 (優先權)</li>
<li>(3) 單元負號運算子</li>
<li>(4) 模數運算子(%)</li>
<li>(5) 型別轉換運算子</li>
</ul>

<h2 id="toc_2">(1) 指定運算子</h2>

<p>若要說到運算子，最基本的大概就是指定運算子(Assignment operator)了，在我們學習怎麼宣告一個變數時，就已經學會指定運算子了，<code>int a = 1;</code>，就是將 = 等號右邊的值，指定給 a 這個變數。</p>

<p>指定運算子也可以跟一般算術運算子結合使用，比方說 <code>int a = 1+1;</code> 是合法的指定值的方式。
指定運算子除了跟基本的 +, - , *, /, % 結合，其變數的值也可以使用位移的方式表達，比方說 <code>a = a + 1</code> 相當於 <code>a++</code> 也相當於 <code>a+=1</code>，而這種寫法，會在下一章節，迴圈的部分會很常遇到，務必熟悉。</p>

<p>範例:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">int a = 1+1;

int b =1;
b+=1;

int c= 1;
c++;

NSLog(@&quot;a is %i&quot;, a);
NSLog(@&quot;b is %i&quot;, b);
NSLog(@&quot;c is %i&quot;, c);
</code></pre></div>
<p>其結果都為 2: </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16887:303] a is 2
2013-12-28 ~[16887:303] b is 2
2013-12-28 ~[16887:303] c is 2
</code></pre></div>
<h2 id="toc_3">(2) 加減乘除的順序 (優先權)</h2>

<ul>
<li>在我們小時候就已經學過了，所謂的『先乘除，後加減』，其實這就一種算式的優先權。以下是幾個關於加減乘除的運算優先權的整理：</li>
</ul>

<table><thead>
<tr>
<th align="left">優先程度</th>
<th align="left">符號</th>
</tr>
</thead><tbody>
<tr>
<td align="left">高度優先</td>
<td align="left">-(負號)</td>
</tr>
<tr>
<td align="left">中度優先</td>
<td align="left">*(乘), /(除), %(餘)</td>
</tr>
<tr>
<td align="left">低度優先</td>
<td align="left">+(加), -(減)</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="text language-text" data-lang="text">1.『*』, 『/』, 『%』優先於『+』, 『-』
2. 可以運用 ( ) 更清楚的表達運算的順序，若 ( ) 有巢狀，
   則是越內部的 ( ) 先執行運算。(簡而言之就是 () 可以影響優先順序) 
3. 如果整行運算式都同樣的優先權，是由左至右計算。
</code></pre></div>
<h3 id="toc_4">範例 1: 簡單的比較</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">NSLog(@&quot;1 + 2 * 2 = %i&quot;, 1 + 2 * 2);
NSLog(@&quot;(1 + 2) * 2 = %i&quot;, (1 + 2) * 2);
NSLog(@&quot;1 + (2 * 2) = %i&quot;, 1 + (2 * 2));
</code></pre></div>
<p>執行結果: </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16247:303] 1 + 2 * 2 = 5
2013-12-28 ~[16247:303] (1 + 2) * 2 = 6
2013-12-28 ~[16247:303] 1 + (2 * 2) = 5
</code></pre></div>
<ul>
<li><p>第一行運算子跟第三行是一樣的意思，即便第一行的 2*2 沒有被 ( ) 包覆，但因為是先乘除後加減，因此也是先運算 2*2，然後再加上前面的 1， 最後得 5。</p></li>
<li><p>第二行運算子，則是先運算 ( ) 內的結果，(1+2) 得 3 之後再 * 2，因此會得 6 。 </p></li>
</ul>

<hr>

<h3 id="toc_5">範例 2: 除數可以是 0 嗎？</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">NSLog(@&quot; 9 / 3 = %i&quot;, 9/3);
NSLog(@&quot; 9 / 0 = %i&quot;, 9/0);
</code></pre></div>
<p>執行結果:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16290:303]  9 / 3 = 3
2013-12-28 ~[16290:303]  9 / 0 = 8400912
</code></pre></div>
<ul>
<li><p>第一行運算式， 9/3 得 3 沒有問題，但是第二行運算式，卻有一點狀況，一般我們如果在計算機按下 9/0 會得到不正確的結果，這是正常的，因為在程式語言中，把除數指定為 0，都會是不正常的結果或是錯誤，因此我們在後面的章節會學到，當除數為 0 的時候，則顯示錯誤或是一些提示訊息，而不要顯示不正常的結果。</p></li>
<li><p>在 Xcode 將除數設定為0時的警告:
<img src="/objective-C-note/img/ch04-001.png" alt="在 Xcode 將除數設定為0時的警告"></p></li>
<li><p>使用 google 計算機將除數設定為0時的警告:
<img src="/objective-C-note/img/ch04-002.png" alt="使用 google 計算機將除數設定為0時的警告"></p></li>
</ul>

<hr>

<h3 id="toc_6">範例 3: 小心型別呀！</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">int a = 5;
int b = 2;
NSLog(@&quot;a / b = %i&quot;, a/b);
</code></pre></div>
<p>執行結果:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16447:303] a / b = 2
</code></pre></div>
<ul>
<li>以這個例子來說，大家或許會納悶，5 / 2 不是 2.5 嗎？ 要注意的是，我們在 NSLog 的輸出格式字串是 %i ， %i 是用來輸出整數的，因此計算的結果會是整數。</li>
<li><p>但是呢，或想要取得 2.5 這種浮點數格式的結果，千千萬萬不能直接使用 <code>NSLog(@&quot;a / b = %f&quot;, a/b);</code>，在這裡我們不能直接將 %i 替換成 %f ，這是行不通的，因為變數 a 跟 b 本身的型別都是 int，你必須將 int 的型別轉成 float，才有辦法輸出成小數點的格式。</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">int a = 5;
int b = 2;
float  f1, f2;
f1 = a;
f2 = b;
NSLog(@&quot;a / b = %f&quot;, f1/f2);
</code></pre></div>
<p>結果:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16509:303] a / b = 2.500000
</code></pre></div>
<p>或是將其中一個 int 轉換成 float 也可以，以下是將 a 轉換成 float:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">int a = 5;
int b = 2;
float  f1;
f1 = a;
NSLog(@&quot;a / b = %f&quot;, f1/b); 
</code></pre></div>
<hr></li>
<li><p>將整數指定給浮點數的型別，是可以正確的轉換。</p></li>
<li><p>如果將浮點數轉換給整數，則小數點的部分將會被捨去。</p></li>
<li><p>上面轉型別的範例，其實是將 int 的變數指定給一個 float 型別的變數，這只是一種型別轉換的方式，後面會在介紹如何轉換型別。</p></li>
</ul>

<h2 id="toc_7">(3) 單元負號運算子</h2>

<ul>
<li><p>單元負號運算子(unady minus operator)，就是將某個變數給予 - 號，使其變成負數。</p></li>
<li><p>以下的例子即是將 5 變成 -5。</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">int a = 5;
NSLog(@&quot;-a = %i&quot;, -a);
</code></pre></div></li>
<li><p>要注意的事情是，單元負號運算子，只是在運算過程中將某變數轉換成負數，使其達到預期的計算結果，_並不是永久轉換_。</p></li>
</ul>

<h2 id="toc_8">(4) 模數運算子(%)</h2>

<ul>
<li><p>模數運算子的運算結果會是取得兩個數字相除之後的餘數。</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">NSLog(@&quot;3 %% 2 = %i&quot;, 3%2);
</code></pre></div>
<p>3 / 2 = 1 ...1，餘樹為 1。所以得到的結果為:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16618:303] 3 % 2 = 1
</code></pre></div>
<p>在 NSLog 的輸出字串格式中，必須使用 %% 代表 一個 % 符號。因為之前有提到輸出字串格式會依照 % 之後的字元，決定要輸出什麼樣的值，因此若要輸出一個 % ，就是要再帶上一個 %。</p></li>
</ul>

<h2 id="toc_9">(5) 型別轉換運算子</h2>

<ul>
<li>我們可以利用 ( ) 小括號，將一個變數做型別的轉換。</li>
<li>小括號 ( ) 裡面要寫的是要被轉換的型別，比方說 (float) 或是 (int)，這就是『型別轉換運算子』。</li>
<li>要注意的事情是，型別轉換運算子，只是在運算過程中將某變數轉換型別，使其達到預期的計算結果，_並不是永久轉換_。</li>
<li>型別轉換運算子的優先權大於一般的算術運算子，但與負號運算子相同優先權。</li>
<li><p>以下範例是將浮點數轉成整數:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">NSLog(@&quot;Result is %i&quot;, (int)2.5 + (int)2.5);
</code></pre></div>
<p>結果為:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16702:303] Result is 4
</code></pre></div></li>
<li><p>以下範例是直接將計算結果轉換成 float:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">NSLog(@&quot;Result is %f&quot;, (float)10/3);
</code></pre></div>
<p>結果為:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2013-12-28 ~[16775:303] Result is 3.333333
</code></pre></div></li>
</ul>

<hr>

<h4 id="toc_10">下一章節，將會介紹 Objective-C 迴圈 。</h4>

<h2 id="toc_11">參考資料</h2>

<ul>
<li><a href="http://www.books.com.tw/products/0010574124">精通 Objective-C 程式設計 (第五版)</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/cocoa/conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html#//apple_ref/doc/uid/TP40011210-CH1-SW1">Programming with Objective-C</a></li>
</ul>

<hr>

<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="創用 CC 授權條款" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />本著作由<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">WinWu</span>製作，以<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">創用CC 姓名標示-非商業性-相同方式分享 4.0 國際 授權條款</a>釋出。</p>

   </div>
 </div>


 <a href="https://twitter.com/share" class="twitter-share-button " data-size="small" data-count="none">Tweet</a>
 <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

 <ul class="pager">
  
  <li class="previous"><a href="/2014/01/04/ch03.html">&larr; Older</a></li>
  
   
  <li class="next"><a href="/2014/01/06/ch05.html">Newer &rarr;</a></li>
  

</ul>

  <!--div id="disqus_thread">
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = ''; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </ul>
    </div-->
  	<footer>
       <p class="text-muted credit">&copy; 2014 Obj-C 學習 &middot; <a href="https://github.com/arnp/herring-cove"> Herring Cove for Jekyll </a>Tue Jan 21 00:33:40 +0800 2014  </p>
  		 </footer>
 <!-- Bootstrap core JavaScript-->
    <script src="http://winwu.github.io/objective-C-note/js/jquery-1.10.2.min.js"></script>
    <script src="http://winwu.github.io/objective-C-note/js/bootstrap.min.js"></script>
    <script src="http://winwu.github.io/objective-C-note/js/bootstrap.js"></script>
    <script type="text/javascript" src="http://winwu.github.io/objective-C-note/js/hc.js"></script>
</body>

</html>
