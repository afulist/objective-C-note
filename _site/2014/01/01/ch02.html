  <!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <title>Ch02 - 藉由 Xcode 來介紹第一支 Objective-C </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Win Wu's Note">
  <link href="http://winwu.github.io/objective-C-note/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://winwu.github.io/objective-C-note/css/hc.css" rel="stylesheet">
  <link href="http://winwu.github.io/objective-C-note/css/override.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    </head>
    <body>
<div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Win Wu </div>
      <div id = "wrapper">      


<div class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">Obj-C 學習</p>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          <li><a href="/list.html">List</a></li>
          <!--li><a href="/links.html">Links</a></li-->
          <!--li><a href="/projects.html">Projects</a></li-->
          <li><a href="/about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>



       <!-- Sidebar -->
       <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-brand"><a href=""><h1 class="brand">Obj-C 學習</h1></a><h3>Win Wu's Note</h3></li>
          <li>不准偷懶啊！</li>
          <li>有點害怕會誤人子弟...</li>
          

          <hr />
          <li><a href="/list.html">List</a></li>
          
          <li><a href="/about.html">About</a></li>
          <hr />
          <div id="social-wrapper">
           <li> <a href="http://twitter.com/yiyingwu1990"><i class="fa fa-twitter-square"></i> @twitter</a></li>
           <li> <a href="http://www.linkedin.com/in/winwu"><i class="fa fa-linkedin-square"></i> linkedin</a> </li>
           <li> <a href="http://www.facebook.com/YiYngWu"><i class="fa fa-facebook-square"></i> facebook</a></li>
           <li> <a href="http://www.github.com/winwu"><i class="fa fa-github-square"></i> github</a> </li>
         </div>
       </ul>
     </div>

     <div class="container">
    <div id="article">
   <div class="article-title">Ch02 - 藉由 Xcode 來介紹第一支 Objective-C </div>
   <p class="meta"><small>&nbsp;<i class="fa fa-calendar-o"></i> 01 Jan 2014</small></p> <hr/>
   <div class="post">
     <h1 id="toc_0">Objective-C 程式設計學習筆記 Ch02</h1>

<ul>
<li>Ch02 藉由 Xcode 來介紹第一支 Objective-C 。</li>
<li>本文已假設讀者已安裝 Xcode 環境。</li>
<li>本章所使用的 Xcode 版本為  Version 5.0.2。</li>
</ul>

<p>在本節以及往後的範例，都會使用 Xcode 來解說以及編譯程式，另外除了 Xcode 之外，您也可以選擇使用終端機 (Terminal) 的 Clang 來編譯，在此並不介紹終端機的方式。</p>

<h2 id="toc_1">(1) 建立專案</h2>

<h3 id="toc_2">A. 開啟 Xcode</h3>

<ul>
<li>點選 『Create a new Xcode Project』。</li>
</ul>

<p><img src="/objective-C-note/img/ch02-001.png" alt="第一步"></p>

<h3 id="toc_3">B. 選擇 Project 類型為 Command Line Tool</h3>

<ul>
<li>為了方便練習使用，我們選擇左側 『OS X』 的子選單的 『Application』，並且選擇右側 Command Line Tool，接著點選 『Next』。</li>
</ul>

<p><img src="/objective-C-note/img/ch02-002.png" alt="第二步"></p>

<h3 id="toc_4">C. 專案的基本設定</h3>

<ul>
<li>設定專案的名稱 (Product Name) (自己決定命名)。</li>
<li>設定專案的 Type 為 『Foundation』。</li>
</ul>

<p><img src="/objective-C-note/img/ch02-003.png" alt="第三步"></p>

<h3 id="toc_5">D. 選擇專案的儲存路徑</h3>

<ul>
<li>你可以選擇現有的資料夾或是新建資料夾。</li>
<li>完成後可按 Next 進入初始畫面。</li>
</ul>

<p><img src="/objective-C-note/img/ch02-004.png" alt="第四步"></p>

<h3 id="toc_6">E. 完成新增專案的步驟</h3>

<ul>
<li>到這個畫面時讀者不用擔心看到這麼複雜的畫面，這裡是一些關於專案的基本設定，我們先跳過這個步驟。下一段解說這個專案的程式碼。</li>
</ul>

<p><img src="/objective-C-note/img/ch02-005.png" alt=""></p>

<h2 id="toc_7">(3) 開啟 main.m</h2>

<h3 id="toc_8">開啟您專案資料夾的 main.m</h3>

<ul>
<li>請點擊左側資料夾裡面的 main.m，這邊的 main.m 是主要的程式的進入點。
&gt; 副檔名 .m 是 Objective-C 的附檔名。而 .h 是標頭檔名(header file)，在後面的章節，我們會討論到類別(Class)，而類別的定義檔通常也是 .h， 實作程式的部分附檔名為 .m。</li>
<li>main.m 是 Xcode 自動幫你產生的檔案。</li>
</ul>

<p><img src="/objective-C-note/img/ch02-006.png" alt="第五步"></p>

<h3 id="toc_9">main.m 的程式如下:</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    //
    //  main.m
    //  ch02
    //
    //  Created by win on 2013/12/25.
    //  Copyright (c) 2013年 win. All rights reserved.
    //

    #import &lt;Foundation/Foundation.h&gt;

    int main(int argc, const char * argv[])
        {

        @autoreleasepool {

            // insert code here...
            NSLog(@&quot;Hello, World!&quot;);

        }
        return 0;
    }
</code></pre></div>
<h2 id="toc_10">(4) 語法解說</h2>

<h3 id="toc_11">註解 (Comment) 格式：</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">//我不會被執行
</code></pre></div>
<p>在 main.m 你會看到行頭以 <code>//</code> 的句子，當程式在執行時，遇到 <code>//</code> 則會將該行視為註解，也就是說以 <code>//</code> 起始的句子，不會被執行。若有學過其他的程式語言，也幾乎就有這樣的註解方式。</p>

<p>而另一種註解方式為 <code>/* 被註解的內容 */</code> ，以 <code>/*</code> 以及 <code>*/</code> 包覆一段內容的頭尾，這種稱為多行註解。需要注意的事情是多行*註解不能被巢狀*。</p>

<ul>
<li><p>多行註解：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/*
  main.m
  ch02
  Created by win on 2013/12/25.
  Copyright (c) 2013年 win. All rights reserved.
*/
</code></pre></div></li>
<li><p>註解不能被巢狀 </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">/*
    /* 這樣的註解會失敗 */
*/
</code></pre></div></li>
</ul>

<h3 id="toc_12">使用 #import</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">#import &lt;Foundation/Foundation.h&gt;
</code></pre></div>
<ul>
<li>若扣掉不會被執行的幾行註解，main.m 真正會被執行的第一行程式為 #import  <Foundation/Foundation.h>，其意思為載入 Foundation 資料夾裡面的 Foundation.h 的檔案，.h 的附檔名是屬於一種類別的定義檔。而 Foundation 是系統幫你產生的，你可以展開 Foundation 資料夾查看裡面放了多少檔案。
<img src="/objective-C-note/img/ch02-010.png" alt=""></li>
<li>之所以需要匯入 Foundation.h 是因為後面的程式會用到 Foundation.h 的類別與函式。</li>
</ul>

<h3 id="toc_13">main 函式</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">int main(int argc, const char * argv[]){
    //code here
}
</code></pre></div>
<ul>
<li>main 函式前面的 int 代表的是這個函式的型別，而 int 這個型別代表整數，因此在 main 函數要結束時，會回傳一個整數，在這個範例中是 return 0。</li>
<li>而 ( ) 括弧裡面的內容，代表的是參數，這個容許我到後面章節再解釋，以這個例子來說，總共有兩個參數，一個是型別為 int 的 argc，以及型別為 const 的 argv。 </li>
<li>而要執行的程式內容寫在 { } 大括號裡面。</li>
<li>因此現在我們已知，宣告了一個 main 函式，並且將需要執行的程式寫在 { } 大括號中，在 main 執行程式內容的最後我們回傳了整數 0 (return 0)，代表程式正常執行，若回傳的值為非0，則表示程式可能有問題。</li>
</ul>

<h3 id="toc_14">autoreleasepool 自動釋放池</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">@autoreleasepool {
    //...
}
</code></pre></div>
<ul>
<li>我們在 main.m 的 main 函數裡面會看到 @autoreleasepool，{ } 大括弧裡面是 autoreleasepool 會執行的程式部分，而 autorelease pool 稱為『自動釋放池』，用意在於讓系統有效管理這些程式的記憶體，這是一種管理記憶體的機制，在往後的章節會再遇到。</li>
</ul>

<h3 id="toc_15">NSLog 輸出函式</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> NSLog(@&quot;Hello, World!&quot;);
</code></pre></div>
<ul>
<li>寫在 @autoreleasepool 裡面的內容為一個 NSLog 的函式，NSLog 是 Objective-C 的函式，可以用來輸出你所輸入的參數(引數)，並且會把當下的時間以及一些訊息顯示出來。</li>
<li>這些函式的敘述都必須以 <code>;</code> 結尾。</li>
<li>而在 &quot;Hello, world!&quot; 前面的 ＠ 主要是為了把後面的字串 (Hello, World!) 轉換為 NSString 的形態。</li>
<li>如果字串前沒有 ＠，其形態為 C 語言形式的字串(C-Strings)，若加上了 ＠，則會轉換成 NSString 的形態。</li>
<li>C-String 可以轉換成 NSString，而 NSString 也可以轉換成 C-String。</li>
<li>為什麼需要把  C 語言形式的字串(C-Strings) 轉換成 NSString? 原始的 C 語言是把字串拆成好幾的字元 (char) 儲存起來，而 NSString 是用 Unichar 組成，NSString 封裝了很多字串使用上的優勢，像是支援统一字符編碼, 使用的位元數更廣。</li>
</ul>

<h4 id="toc_16">讓我們加上一行 NSLog:</h4>

<ul>
<li>請在 NSLog(@&quot;Hello, World!&quot;); 後面加上一行 NSLog(@&quot;Learning Objective-C&quot;);</li>
</ul>

<h2 id="toc_17">(4) 編譯與執行</h2>

<ul>
<li><p>Xcode 的畫面主要有三個區塊：
<img src="/objective-C-note/img/ch02-007.png" alt=""></p></li>
<li><p>你可透過右上角的 icon，控制是否要顯示/隱藏哪些區塊：
<img src="/objective-C-note/img/ch02-008.png" alt=""></p></li>
<li><p>其編譯的結果通常會顯示在中間下方，請將中間下方的區塊顯示：
<img src="/objective-C-note/img/ch02-009.png" alt=""></p></li>
<li><p>執行編譯與執行的動作，請按下左上角 『Run』按鈕，來進行編譯。
<img src="/objective-C-note/img/ch02-011.png" alt=""></p></li>
<li><p>接著你會在畫面的下方看到編譯的結果：
<img src="/objective-C-note/img/ch02-012.png" alt=""></p></li>
</ul>

<h2 id="toc_18">(5) 深入的說</h2>

<h3 id="toc_19">關於換行</h3>

<ul>
<li>通常我們不太可能為了顯示每一行字而一直使用 NSLog，因此你可以在 NSLog 裡面寫_換行符號_。</li>
<li>換行符號的寫法是 <code>\n</code>。</li>
<li>範例：
<code>NSLog(@&quot;Hello, World!\nMy Name\nwin\n 。&quot;);</code> </li>
<li><p>執行結果：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> Hello, World! 
 My Name
 win 
  。
</code></pre></div></li>
</ul>

<h3 id="toc_20">NSLog</h3>

<ul>
<li><p>NSLog 不但可以處理一般字串輸出，還可以帶入變數或是一組需要計算的值作為參數。</p></li>
<li><p>範例1: </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">NSLog(@&quot;My Age is %i&quot;, 24);
</code></pre></div>
<ul>
<li>NSLog 有兩個參數，第一個是輸出的字串，第二個是值會被帶入字串的變數，在這個範例中，帶入的不是變數，而是直接帶入一個值，而這個值會被帶入字串裡面的 %i ，所以輸出結果為 『My Age is 24』，只要在 NSLog 的字串中看到 <code>%</code> 開頭，英文字接在後面的，都是會被後面的參數所替換。嚴格來說，NSLog 的第一個參數，應該叫做 『字串格式』，而字串格式可以依照後面所帶入的參數（變數），依序將該值取代掉字串的 <code>%?</code>。</li>
</ul></li>
<li><p>範例2: 帶入多個參數(變數)</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"> int weight = 32;
 int height = 140;
 NSLog(@&quot;My weight is %i and my height is %i&quot;, weight, height)
</code></pre></div>
<ul>
<li>其執行結果為顯示 『 My weight is 32 and my height is 140』。</li>
</ul></li>
<li><p><code>%</code> 後面所接字母，視要代入的變數的型別而有所不同，之後的章節我們會介紹各種變數型別，在上面的例子，因為 weight 以及 height 都是 int 的型別，因此在 NSLog 的字串格式，也必須使用 int 的型別 (%i) 來表示。 </p></li>
<li><p>NSLog 並不是唯一的一種輸出函式，你也可以使用原始 C 語言的 printf( ) 輸出函式。</p></li>
</ul>

<hr>

<h2 id="toc_21">參考資料</h2>

<ul>
<li><a href="http://zh.wikipedia.org/wiki/Objective-C">維基百科</a></li>
<li><a href="http://www.books.com.tw/products/0010574124">精通 Objective-C 程式設計 (第五版)</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/cocoa/conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html#//apple_ref/doc/uid/TP40011210-CH1-SW1">Programming with Objective-C</a></li>
<li><a href="http://furnacedigital.blogspot.tw/2011/04/nsstring.html">關於 NSString 的二三事</a></li>
</ul>

<hr>

<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="創用 CC 授權條款" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />本著作由<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">WinWu</span>製作，以<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">創用CC 姓名標示-非商業性-相同方式分享 4.0 國際 授權條款</a>釋出。</p>

   </div>
 </div>


 <a href="https://twitter.com/share" class="twitter-share-button " data-size="small" data-count="none">Tweet</a>
 <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

 <ul class="pager">
  
  <li class="previous"><a href="/2013/12/25/ch01.html">&larr; Older</a></li>
  
   
  <li class="next"><a href="/2014/01/04/ch03.html">Newer &rarr;</a></li>
  

</ul>

  <!--div id="disqus_thread">
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = ''; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </ul>
    </div-->
  	<footer>
       <p class="text-muted credit">&copy; 2014 Obj-C 學習 &middot; <a href="https://github.com/arnp/herring-cove"> Herring Cove for Jekyll </a>Sun Jan 19 21:06:54 +0800 2014  </p>
  		 </footer>
 <!-- Bootstrap core JavaScript-->
    <script src="http://winwu.github.io/objective-C-note/js/jquery-1.10.2.min.js"></script>
    <script src="http://winwu.github.io/objective-C-note/js/bootstrap.min.js"></script>
    <script src="http://winwu.github.io/objective-C-note/js/bootstrap.js"></script>
    <script type="text/javascript" src="http://winwu.github.io/objective-C-note/js/hc.js"></script>
</body>

</html>
